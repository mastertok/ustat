# Глобальные правила разработки

## API и эндпоинты
- Все API эндпоинты описаны в файле `/docs/API.md`
- Перед созданием нового API проверить существующие эндпоинты
- Использовать версионирование API (префикс /api/v1/)
- Следовать REST принципам при создании новых эндпоинтов
- Документировать все новые эндпоинты в API.md

## Главное правило - Обязательное написание юнит-тестов
- При добавлении любой новой функциональности ОБЯЗАТЕЛЬНО создавать юнит-тесты
- Тесты должны покрывать все основные сценарии использования функции
- Тесты должны проверять как позитивные, так и негативные случаи
- Использовать pytest в качестве основного фреймворка для тестирования
- Следовать принципу "сначала тесты, потом код" (TDD)
- Поддерживать тесты в актуальном состоянии при изменении кода

## Язык общения
- Предоставлять все ответы на русском языке
- Комментарии в коде на русском языке
- Документация на русском языке

## Тестовый фреймворк
- Использовать Pytest для запуска тестов
- Следовать лучшим практикам тестирования

## Ограничения на изменение файлов
- Не изменять файлы, связанные с конфигурацией безопасности (например, security-config.yml) без явного разрешения
- Не изменять структуру существующих API без согласования

## Запрещенные API
- Избегать использования любых закрытых внутренних API, помеченных как internalOnly
- Не использовать устаревшие (deprecated) API

## Конфиденциальность и доступ
- Предотвращать утечки приватных данных (ключей, паролей, личной информации) в исходном коде, документации или логах
- Использовать переменные окружения для хранения чувствительных данных

## Соответствие стандартам безопасности
- Следовать принципам OWASP Top 10 при генерации или изменении кода
- Проверять все входные данные на безопасность

## Стиль кода и форматирование
- Следовать признанным стандартам и конвенциям кодирования:
  - ESLint/Prettier для JS/TS
  - PEP8 для Python
  - Black для форматирования Python кода

## Утверждение изменений
- Предлагать любые существенные архитектурные изменения через pull request
- Изменения базы данных или API через issue в трекере проекта
- Согласовывать изменения с командой перед реализацией

## Документация API
- Все изменения API должны быть задокументированы в `/docs/API.md`
- При добавлении новой функциональности:
  1. Добавить описание нового API в соответствующий раздел
  2. Добавить запись в раздел "Список изменений" с датой
  3. Указать все параметры, требования и формат ответа
- При изменении существующего API:
  1. Обновить описание в документации
  2. Добавить запись об изменении в список изменений
  3. Отметить устаревшие методы
- При удалении API:
  1. Отметить как удаленный в документации
  2. Добавить запись в список изменений с причиной
- Поддерживать актуальность всей документации API
- Следить за версионированием API

## Процесс взаимодействия
- Всегда уточнять цель и бизнес-логику изменений
- Документировать все существенные изменения
- Поддерживать актуальность документации API
